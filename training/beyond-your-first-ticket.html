<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 10 Beyond your first ticket | NCEAS Data Team Training</title>
  <meta name="description" content="This is a training guide and reference resource for NCEAS data team members working on the SASAP and Arctic Data Center projects" />
  <meta name="generator" content="bookdown 0.24.1 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 10 Beyond your first ticket | NCEAS Data Team Training" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a training guide and reference resource for NCEAS data team members working on the SASAP and Arctic Data Center projects" />
  <meta name="github-repo" content="NCEAS/datateam-training" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 10 Beyond your first ticket | NCEAS Data Team Training" />
  
  <meta name="twitter:description" content="This is a training guide and reference resource for NCEAS data team members working on the SASAP and Arctic Data Center projects" />
  

<meta name="author" content="Jesse Goldstein, Dominic Mullen, Jeanette Clark, Irene Steves, Mitchell Maier, Bryce Mecum, Peter Slaughter, Emily O’Dean, Jasmine Lai" />


<meta name="date" content="2021-09-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="prev" href="first-ticket.html"/>

<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="../styles.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Team Training</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome to NCEAS!</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#first-day-to-dos"><i class="fa fa-check"></i>First day to-dos</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#account-information"><i class="fa fa-check"></i>Account information</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#nceas-events"><i class="fa fa-check"></i>NCEAS events</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#nceas-community-meetings-groups"><i class="fa fa-check"></i>NCEAS Community Meetings/ Groups</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#code-of-conduct"><i class="fa fa-check"></i>Code of Conduct</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#citation-information"><i class="fa fa-check"></i>Citation Information</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction-to-open-science.html"><a href="introduction-to-open-science.html"><i class="fa fa-check"></i><b>1</b> Introduction to open science</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-open-science.html"><a href="introduction-to-open-science.html#background-reading"><i class="fa fa-check"></i><b>1.1</b> Background reading</a></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-open-science.html"><a href="introduction-to-open-science.html#effective-data-management"><i class="fa fa-check"></i><b>1.2</b> Effective data management</a></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-open-science.html"><a href="introduction-to-open-science.html#using-dataone"><i class="fa fa-check"></i><b>1.3</b> Using DataONE</a></li>
<li class="chapter" data-level="1.4" data-path="introduction-to-open-science.html"><a href="introduction-to-open-science.html#working-on-a-remote-server"><i class="fa fa-check"></i><b>1.4</b> Working on a remote server</a></li>
<li class="chapter" data-level="1.5" data-path="introduction-to-open-science.html"><a href="introduction-to-open-science.html#a-note-on-paths"><i class="fa fa-check"></i><b>1.5</b> A note on paths</a></li>
<li class="chapter" data-level="1.6" data-path="introduction-to-open-science.html"><a href="introduction-to-open-science.html#a-note-on-r"><i class="fa fa-check"></i><b>1.6</b> A note on R</a></li>
<li class="chapter" data-level="1.7" data-path="introduction-to-open-science.html"><a href="introduction-to-open-science.html#a-note-on-effective-troubleshooting-in-r"><i class="fa fa-check"></i><b>1.7</b> A note on effective troubleshooting in R</a></li>
<li class="chapter" data-level="1.8" data-path="introduction-to-open-science.html"><a href="introduction-to-open-science.html#a-note-on-exercises"><i class="fa fa-check"></i><b>1.8</b> A note on Exercises</a></li>
<li class="chapter" data-level="1.9" data-path="introduction-to-open-science.html"><a href="introduction-to-open-science.html#exercise-1"><i class="fa fa-check"></i><b>1.9</b> Exercise 1</a>
<ul>
<li class="chapter" data-level="1.9.1" data-path="introduction-to-open-science.html"><a href="introduction-to-open-science.html#part-1"><i class="fa fa-check"></i><b>1.9.1</b> Part 1</a></li>
<li class="chapter" data-level="1.9.2" data-path="introduction-to-open-science.html"><a href="introduction-to-open-science.html#part-2"><i class="fa fa-check"></i><b>1.9.2</b> Part 2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="creating-a-data-package.html"><a href="creating-a-data-package.html"><i class="fa fa-check"></i><b>2</b> Creating a data package</a>
<ul>
<li class="chapter" data-level="2.1" data-path="creating-a-data-package.html"><a href="creating-a-data-package.html#what-is-in-a-package"><i class="fa fa-check"></i><b>2.1</b> What is in a package?</a></li>
<li class="chapter" data-level="2.2" data-path="creating-a-data-package.html"><a href="creating-a-data-package.html#packages-on-the-website"><i class="fa fa-check"></i><b>2.2</b> Packages on the Website</a></li>
<li class="chapter" data-level="2.3" data-path="creating-a-data-package.html"><a href="creating-a-data-package.html#about-identifiers"><i class="fa fa-check"></i><b>2.3</b> About identifiers</a></li>
<li class="chapter" data-level="2.4" data-path="creating-a-data-package.html"><a href="creating-a-data-package.html#upload-a-package"><i class="fa fa-check"></i><b>2.4</b> Upload a package</a></li>
<li class="chapter" data-level="2.5" data-path="creating-a-data-package.html"><a href="creating-a-data-package.html#datapack-background"><i class="fa fa-check"></i><b>2.5</b> datapack Background</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="creating-a-data-package.html"><a href="creating-a-data-package.html#navigating-data-packages"><i class="fa fa-check"></i><b>2.5.1</b> Navigating data packages</a></li>
<li class="chapter" data-level="2.5.2" data-path="creating-a-data-package.html"><a href="creating-a-data-package.html#data-objects"><i class="fa fa-check"></i><b>2.5.2</b> Data Objects</a></li>
<li class="chapter" data-level="2.5.3" data-path="creating-a-data-package.html"><a href="creating-a-data-package.html#provenance"><i class="fa fa-check"></i><b>2.5.3</b> Provenance</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="creating-a-data-package.html"><a href="creating-a-data-package.html#exercise-2a"><i class="fa fa-check"></i><b>2.6</b> Exercise 2a</a></li>
<li class="chapter" data-level="2.7" data-path="creating-a-data-package.html"><a href="creating-a-data-package.html#create-a-new-data-package"><i class="fa fa-check"></i><b>2.7</b> Create a new data package</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="creating-a-data-package.html"><a href="creating-a-data-package.html#upload-new-data-files"><i class="fa fa-check"></i><b>2.7.1</b> Upload new data files</a></li>
<li class="chapter" data-level="2.7.2" data-path="creating-a-data-package.html"><a href="creating-a-data-package.html#upload-the-package"><i class="fa fa-check"></i><b>2.7.2</b> Upload the package</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="creating-a-data-package.html"><a href="creating-a-data-package.html#exercise-2b"><i class="fa fa-check"></i><b>2.8</b> Exercise 2b</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="creating-a-data-package.html"><a href="creating-a-data-package.html#part-1---gather-your-data-files"><i class="fa fa-check"></i><b>2.8.1</b> Part 1 - Gather your data files</a></li>
<li class="chapter" data-level="2.8.2" data-path="creating-a-data-package.html"><a href="creating-a-data-package.html#part-2---working-in-r"><i class="fa fa-check"></i><b>2.8.2</b> Part 2 - Working in R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="exploring-eml.html"><a href="exploring-eml.html"><i class="fa fa-check"></i><b>3</b> Exploring EML</a>
<ul>
<li class="chapter" data-level="3.1" data-path="exploring-eml.html"><a href="exploring-eml.html#navigate-through-eml"><i class="fa fa-check"></i><b>3.1</b> Navigate through EML</a></li>
<li class="chapter" data-level="3.2" data-path="exploring-eml.html"><a href="exploring-eml.html#understand-the-eml-schema"><i class="fa fa-check"></i><b>3.2</b> Understand the EML schema</a></li>
<li class="chapter" data-level="3.3" data-path="exploring-eml.html"><a href="exploring-eml.html#access-specific-elements"><i class="fa fa-check"></i><b>3.3</b> Access specific elements</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="editing-eml.html"><a href="editing-eml.html"><i class="fa fa-check"></i><b>4</b> Editing EML</a>
<ul>
<li class="chapter" data-level="4.1" data-path="editing-eml.html"><a href="editing-eml.html#edit-an-eml-element"><i class="fa fa-check"></i><b>4.1</b> Edit an EML element</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="editing-eml.html"><a href="editing-eml.html#edit-eml-with-strings"><i class="fa fa-check"></i><b>4.1.1</b> Edit EML with strings</a></li>
<li class="chapter" data-level="4.1.2" data-path="editing-eml.html"><a href="editing-eml.html#edit-eml-with-the-eml-package"><i class="fa fa-check"></i><b>4.1.2</b> Edit EML with the “EML” package</a></li>
<li class="chapter" data-level="4.1.3" data-path="editing-eml.html"><a href="editing-eml.html#edit-eml-with-objects"><i class="fa fa-check"></i><b>4.1.3</b> Edit EML with objects</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="editing-eml.html"><a href="editing-eml.html#fair-data-practices"><i class="fa fa-check"></i><b>4.2</b> FAIR data practices</a></li>
<li class="chapter" data-level="4.3" data-path="editing-eml.html"><a href="editing-eml.html#edit-attributelists"><i class="fa fa-check"></i><b>4.3</b> Edit attributeLists</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="editing-eml.html"><a href="editing-eml.html#edit-attributes"><i class="fa fa-check"></i><b>4.3.1</b> Edit attributes</a></li>
<li class="chapter" data-level="4.3.2" data-path="editing-eml.html"><a href="editing-eml.html#edit-custom-units"><i class="fa fa-check"></i><b>4.3.2</b> Edit custom units</a></li>
<li class="chapter" data-level="4.3.3" data-path="editing-eml.html"><a href="editing-eml.html#edit-factors"><i class="fa fa-check"></i><b>4.3.3</b> Edit factors</a></li>
<li class="chapter" data-level="4.3.4" data-path="editing-eml.html"><a href="editing-eml.html#finalize-attributelist"><i class="fa fa-check"></i><b>4.3.4</b> Finalize attributeList</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="editing-eml.html"><a href="editing-eml.html#set-physical"><i class="fa fa-check"></i><b>4.4</b> Set physical</a></li>
<li class="chapter" data-level="4.5" data-path="editing-eml.html"><a href="editing-eml.html#edit-datatables"><i class="fa fa-check"></i><b>4.5</b> Edit dataTables</a></li>
<li class="chapter" data-level="4.6" data-path="editing-eml.html"><a href="editing-eml.html#edit-otherentities"><i class="fa fa-check"></i><b>4.6</b> Edit otherEntities</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="editing-eml.html"><a href="editing-eml.html#remove-otherentities"><i class="fa fa-check"></i><b>4.6.1</b> Remove otherEntities</a></li>
<li class="chapter" data-level="4.6.2" data-path="editing-eml.html"><a href="editing-eml.html#create-otherentities"><i class="fa fa-check"></i><b>4.6.2</b> Create otherEntities</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="editing-eml.html"><a href="editing-eml.html#semantic-annotations"><i class="fa fa-check"></i><b>4.7</b> Semantic annotations</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="editing-eml.html"><a href="editing-eml.html#how-annotations-are-used"><i class="fa fa-check"></i><b>4.7.1</b> How annotations are used</a></li>
<li class="chapter" data-level="4.7.2" data-path="editing-eml.html"><a href="editing-eml.html#how-to-add-an-annotation"><i class="fa fa-check"></i><b>4.7.2</b> How to add an annotation</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="editing-eml.html"><a href="editing-eml.html#exercise-3a"><i class="fa fa-check"></i><b>4.8</b> Exercise 3a</a></li>
<li class="chapter" data-level="4.9" data-path="editing-eml.html"><a href="editing-eml.html#edit-spatial-data"><i class="fa fa-check"></i><b>4.9</b> Edit spatial data</a>
<ul>
<li class="chapter" data-level="4.9.1" data-path="editing-eml.html"><a href="editing-eml.html#reading-spatial-files"><i class="fa fa-check"></i><b>4.9.1</b> Reading Spatial Files</a></li>
<li class="chapter" data-level="4.9.2" data-path="editing-eml.html"><a href="editing-eml.html#spatialvector"><i class="fa fa-check"></i><b>4.9.2</b> spatialVector</a></li>
<li class="chapter" data-level="4.9.3" data-path="editing-eml.html"><a href="editing-eml.html#spatialrasters"><i class="fa fa-check"></i><b>4.9.3</b> spatialRasters</a></li>
</ul></li>
<li class="chapter" data-level="4.10" data-path="editing-eml.html"><a href="editing-eml.html#set-coverages"><i class="fa fa-check"></i><b>4.10</b> Set coverages</a>
<ul>
<li class="chapter" data-level="4.10.1" data-path="editing-eml.html"><a href="editing-eml.html#set-multiple-coverages"><i class="fa fa-check"></i><b>4.10.1</b> Set multiple coverages</a></li>
<li class="chapter" data-level="4.10.2" data-path="editing-eml.html"><a href="editing-eml.html#special-coverages"><i class="fa fa-check"></i><b>4.10.2</b> Special coverages</a></li>
</ul></li>
<li class="chapter" data-level="4.11" data-path="editing-eml.html"><a href="editing-eml.html#set-methods"><i class="fa fa-check"></i><b>4.11</b> Set methods</a>
<ul>
<li class="chapter" data-level="4.11.1" data-path="editing-eml.html"><a href="editing-eml.html#adding-sampling-info-to-methods-section"><i class="fa fa-check"></i><b>4.11.1</b> Adding sampling info to methods section</a></li>
</ul></li>
<li class="chapter" data-level="4.12" data-path="editing-eml.html"><a href="editing-eml.html#set-parties"><i class="fa fa-check"></i><b>4.12</b> Set parties</a></li>
<li class="chapter" data-level="4.13" data-path="editing-eml.html"><a href="editing-eml.html#validate-eml-and-update-package"><i class="fa fa-check"></i><b>4.13</b> Validate EML and update package</a></li>
<li class="chapter" data-level="4.14" data-path="editing-eml.html"><a href="editing-eml.html#exercise-3b"><i class="fa fa-check"></i><b>4.14</b> Exercise 3b</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="updating-a-data-package.html"><a href="updating-a-data-package.html"><i class="fa fa-check"></i><b>5</b> Updating a data package</a>
<ul>
<li class="chapter" data-level="5.1" data-path="updating-a-data-package.html"><a href="updating-a-data-package.html#update-a-data-object"><i class="fa fa-check"></i><b>5.1</b> Update a data object</a></li>
<li class="chapter" data-level="5.2" data-path="updating-a-data-package.html"><a href="updating-a-data-package.html#update-a-package-with-a-new-data-object"><i class="fa fa-check"></i><b>5.2</b> Update a package with a new data object</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="updating-a-data-package.html"><a href="updating-a-data-package.html#publish-update"><i class="fa fa-check"></i><b>5.2.1</b> Publish update</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="updating-a-data-package.html"><a href="updating-a-data-package.html#exercise-4"><i class="fa fa-check"></i><b>5.3</b> Exercise 4</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="editing-system-metadata.html"><a href="editing-system-metadata.html"><i class="fa fa-check"></i><b>6</b> Editing system metadata</a>
<ul>
<li class="chapter" data-level="6.1" data-path="editing-system-metadata.html"><a href="editing-system-metadata.html#edit-sysmeta"><i class="fa fa-check"></i><b>6.1</b> Edit sysmeta</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="editing-system-metadata.html"><a href="editing-system-metadata.html#identifiers-and-sysmeta"><i class="fa fa-check"></i><b>6.1.1</b> Identifiers and sysmeta</a></li>
<li class="chapter" data-level="6.1.2" data-path="editing-system-metadata.html"><a href="editing-system-metadata.html#additional-resources"><i class="fa fa-check"></i><b>6.1.2</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="editing-system-metadata.html"><a href="editing-system-metadata.html#set-rights-and-access"><i class="fa fa-check"></i><b>6.2</b> Set rights and access</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="editing-system-metadata.html"><a href="editing-system-metadata.html#my-profile"><i class="fa fa-check"></i><b>6.2.1</b> My profile</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="editing-system-metadata.html"><a href="editing-system-metadata.html#exercise-5"><i class="fa fa-check"></i><b>6.3</b> Exercise 5</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="building-provenance.html"><a href="building-provenance.html"><i class="fa fa-check"></i><b>7</b> Building provenance</a>
<ul>
<li class="chapter" data-level="7.1" data-path="building-provenance.html"><a href="building-provenance.html#using-the-prov-editor"><i class="fa fa-check"></i><b>7.1</b> Using the prov editor</a></li>
<li class="chapter" data-level="7.2" data-path="building-provenance.html"><a href="building-provenance.html#understanding-resource-maps"><i class="fa fa-check"></i><b>7.2</b> Understanding resource maps</a></li>
<li class="chapter" data-level="7.3" data-path="building-provenance.html"><a href="building-provenance.html#using-the-datapack-package"><i class="fa fa-check"></i><b>7.3</b> Using the <code>datapack</code> package</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="building-provenance.html"><a href="building-provenance.html#fixing-mistakes"><i class="fa fa-check"></i><b>7.3.1</b> Fixing mistakes</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="building-provenance.html"><a href="building-provenance.html#references"><i class="fa fa-check"></i><b>7.4</b> References</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="using-git.html"><a href="using-git.html"><i class="fa fa-check"></i><b>8</b> Using Git</a>
<ul>
<li class="chapter" data-level="8.1" data-path="using-git.html"><a href="using-git.html#usage-in-the-datateam"><i class="fa fa-check"></i><b>8.1</b> Usage in the datateam</a></li>
<li class="chapter" data-level="8.2" data-path="using-git.html"><a href="using-git.html#what-is-git"><i class="fa fa-check"></i><b>8.2</b> What is Git?</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="using-git.html"><a href="using-git.html#so-why-do-i-need-to-use-this-again"><i class="fa fa-check"></i><b>8.2.1</b> So why do I need to use this again?</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="using-git.html"><a href="using-git.html#setting-up-git"><i class="fa fa-check"></i><b>8.3</b> Setting up Git</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="using-git.html"><a href="using-git.html#cloning-the-arctic-data-repo"><i class="fa fa-check"></i><b>8.3.1</b> Cloning the arctic-data repo</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="using-git.html"><a href="using-git.html#working-with-the-repository"><i class="fa fa-check"></i><b>8.4</b> Working with the repository</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="using-git.html"><a href="using-git.html#adding-a-new-script"><i class="fa fa-check"></i><b>8.4.1</b> Adding a new script</a></li>
<li class="chapter" data-level="8.4.2" data-path="using-git.html"><a href="using-git.html#editing-a-script"><i class="fa fa-check"></i><b>8.4.2</b> Editing a script</a></li>
<li class="chapter" data-level="8.4.3" data-path="using-git.html"><a href="using-git.html#where-do-i-commit"><i class="fa fa-check"></i><b>8.4.3</b> Where do I commit?</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="using-git.html"><a href="using-git.html#my-git-tab-disappeared"><i class="fa fa-check"></i><b>8.5</b> My Git tab disappeared</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="first-ticket.html"><a href="first-ticket.html"><i class="fa fa-check"></i><b>9</b> First Ticket</a>
<ul>
<li class="chapter" data-level="9.1" data-path="first-ticket.html"><a href="first-ticket.html#navigate-rt"><i class="fa fa-check"></i><b>9.1</b> Navigate RT</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="first-ticket.html"><a href="first-ticket.html#front-page"><i class="fa fa-check"></i><b>9.1.1</b> Front page</a></li>
<li class="chapter" data-level="9.1.2" data-path="first-ticket.html"><a href="first-ticket.html#all-tickets"><i class="fa fa-check"></i><b>9.1.2</b> All tickets</a></li>
<li class="chapter" data-level="9.1.3" data-path="first-ticket.html"><a href="first-ticket.html#example-ticket"><i class="fa fa-check"></i><b>9.1.3</b> Example ticket</a></li>
<li class="chapter" data-level="9.1.4" data-path="first-ticket.html"><a href="first-ticket.html#new-data-submission"><i class="fa fa-check"></i><b>9.1.4</b> New data submission</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="first-ticket.html"><a href="first-ticket.html#initial-review-checklist"><i class="fa fa-check"></i><b>9.2</b> Initial review checklist</a></li>
<li class="chapter" data-level="9.3" data-path="first-ticket.html"><a href="first-ticket.html#processing-templates"><i class="fa fa-check"></i><b>9.3</b> Processing templates</a></li>
<li class="chapter" data-level="9.4" data-path="first-ticket.html"><a href="first-ticket.html#final-checklist"><i class="fa fa-check"></i><b>9.4</b> Final Checklist</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="first-ticket.html"><a href="first-ticket.html#special-datasets"><i class="fa fa-check"></i><b>9.4.1</b> Special Datasets</a></li>
<li class="chapter" data-level="9.4.2" data-path="first-ticket.html"><a href="first-ticket.html#system-metadata"><i class="fa fa-check"></i><b>9.4.2</b> System Metadata</a></li>
<li class="chapter" data-level="9.4.3" data-path="first-ticket.html"><a href="first-ticket.html#general-eml"><i class="fa fa-check"></i><b>9.4.3</b> General EML</a></li>
<li class="chapter" data-level="9.4.4" data-path="first-ticket.html"><a href="first-ticket.html#title-1"><i class="fa fa-check"></i><b>9.4.4</b> Title</a></li>
<li class="chapter" data-level="9.4.5" data-path="first-ticket.html"><a href="first-ticket.html#abstract-1"><i class="fa fa-check"></i><b>9.4.5</b> Abstract</a></li>
<li class="chapter" data-level="9.4.6" data-path="first-ticket.html"><a href="first-ticket.html#datatable-otherentity-spatialvectors"><i class="fa fa-check"></i><b>9.4.6</b> DataTable / OtherEntity / SpatialVectors</a></li>
<li class="chapter" data-level="9.4.7" data-path="first-ticket.html"><a href="first-ticket.html#people"><i class="fa fa-check"></i><b>9.4.7</b> People</a></li>
<li class="chapter" data-level="9.4.8" data-path="first-ticket.html"><a href="first-ticket.html#geographic-region"><i class="fa fa-check"></i><b>9.4.8</b> Geographic region</a></li>
<li class="chapter" data-level="9.4.9" data-path="first-ticket.html"><a href="first-ticket.html#project"><i class="fa fa-check"></i><b>9.4.9</b> Project</a></li>
<li class="chapter" data-level="9.4.10" data-path="first-ticket.html"><a href="first-ticket.html#methods-1"><i class="fa fa-check"></i><b>9.4.10</b> Methods</a></li>
<li class="chapter" data-level="9.4.11" data-path="first-ticket.html"><a href="first-ticket.html#check-eml-version"><i class="fa fa-check"></i><b>9.4.11</b> Check EML Version</a></li>
<li class="chapter" data-level="9.4.12" data-path="first-ticket.html"><a href="first-ticket.html#access"><i class="fa fa-check"></i><b>9.4.12</b> Access</a></li>
<li class="chapter" data-level="9.4.13" data-path="first-ticket.html"><a href="first-ticket.html#sftp-files"><i class="fa fa-check"></i><b>9.4.13</b> SFTP Files</a></li>
<li class="chapter" data-level="9.4.14" data-path="first-ticket.html"><a href="first-ticket.html#updated-datasets"><i class="fa fa-check"></i><b>9.4.14</b> Updated datasets</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="first-ticket.html"><a href="first-ticket.html#email-templates"><i class="fa fa-check"></i><b>9.5</b> Email templates</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="first-ticket.html"><a href="first-ticket.html#initial-email-template"><i class="fa fa-check"></i><b>9.5.1</b> Initial email template</a></li>
<li class="chapter" data-level="9.5.2" data-path="first-ticket.html"><a href="first-ticket.html#comment-templates-based-on-what-is-missing"><i class="fa fa-check"></i><b>9.5.2</b> Comment templates based on what is missing</a></li>
<li class="chapter" data-level="9.5.3" data-path="first-ticket.html"><a href="first-ticket.html#final-email-templates"><i class="fa fa-check"></i><b>9.5.3</b> Final email templates</a></li>
<li class="chapter" data-level="9.5.4" data-path="first-ticket.html"><a href="first-ticket.html#additional-email-templates"><i class="fa fa-check"></i><b>9.5.4</b> Additional email templates</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="first-ticket.html"><a href="first-ticket.html#categorize-datasets"><i class="fa fa-check"></i><b>9.6</b> Categorize datasets</a></li>
<li class="chapter" data-level="9.7" data-path="first-ticket.html"><a href="first-ticket.html#congrats"><i class="fa fa-check"></i><b>9.7</b> Congrats!</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="beyond-your-first-ticket.html"><a href="beyond-your-first-ticket.html"><i class="fa fa-check"></i><b>10</b> Beyond your first ticket</a>
<ul>
<li class="chapter" data-level="10.1" data-path="beyond-your-first-ticket.html"><a href="beyond-your-first-ticket.html#working-with-large-data-packages"><i class="fa fa-check"></i><b>10.1</b> Working with large data packages</a></li>
<li class="chapter" data-level="10.2" data-path="beyond-your-first-ticket.html"><a href="beyond-your-first-ticket.html#add-physicals-to-submissions"><i class="fa fa-check"></i><b>10.2</b> Add physicals to submissions</a></li>
<li class="chapter" data-level="10.3" data-path="beyond-your-first-ticket.html"><a href="beyond-your-first-ticket.html#use-references"><i class="fa fa-check"></i><b>10.3</b> Use references</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="beyond-your-first-ticket.html"><a href="beyond-your-first-ticket.html#example-with-parties"><i class="fa fa-check"></i><b>10.3.1</b> Example with parties</a></li>
<li class="chapter" data-level="10.3.2" data-path="beyond-your-first-ticket.html"><a href="beyond-your-first-ticket.html#example-with-attributes"><i class="fa fa-check"></i><b>10.3.2</b> Example with attributes</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="beyond-your-first-ticket.html"><a href="beyond-your-first-ticket.html#annotations"><i class="fa fa-check"></i><b>10.4</b> Annotations</a></li>
<li class="chapter" data-level="10.5" data-path="beyond-your-first-ticket.html"><a href="beyond-your-first-ticket.html#streamlining-your-workflow"><i class="fa fa-check"></i><b>10.5</b> Streamlining your workflow</a></li>
<li class="chapter" data-level="10.6" data-path="beyond-your-first-ticket.html"><a href="beyond-your-first-ticket.html#code-snippets"><i class="fa fa-check"></i><b>10.6</b> Code Snippets</a></li>
<li class="chapter" data-level="10.7" data-path="beyond-your-first-ticket.html"><a href="beyond-your-first-ticket.html#resources-for-r"><i class="fa fa-check"></i><b>10.7</b> Resources for R</a>
<ul>
<li class="chapter" data-level="10.7.1" data-path="beyond-your-first-ticket.html"><a href="beyond-your-first-ticket.html#learning"><i class="fa fa-check"></i><b>10.7.1</b> Learning</a></li>
<li class="chapter" data-level="10.7.2" data-path="beyond-your-first-ticket.html"><a href="beyond-your-first-ticket.html#packages"><i class="fa fa-check"></i><b>10.7.2</b> Packages</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://nceas.github.io/datateam-training/reference" target="blank">Reference Guide</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">NCEAS Data Team Training</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="beyond-your-first-ticket" class="section level1" number="10">
<h1><span class="header-section-number">Chapter 10</span> Beyond your first ticket</h1>
<p>This section is meant to be read after you have processed a couple of tickets and you are comfortable with the workflow with a relatively simple dataset with 1-2 files and want to expand your skills and workflows further.</p>
<div id="working-with-large-data-packages" class="section level2" number="10.1">
<h2><span class="header-section-number">10.1</span> Working with large data packages</h2>
</div>
<div id="add-physicals-to-submissions" class="section level2" number="10.2">
<h2><span class="header-section-number">10.2</span> Add physicals to submissions</h2>
<p>New submissions made through the web editor will not have any <code>physical</code> sections within the <code>otherEntity</code>s. Add them to the EML with the following script:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="beyond-your-first-ticket.html#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq_along</span>(doc<span class="sc">$</span>dataset<span class="sc">$</span>otherEntity)) {</span>
<span id="cb136-2"><a href="beyond-your-first-ticket.html#cb136-2" aria-hidden="true" tabindex="-1"></a>    otherEntity <span class="ot">&lt;-</span> doc<span class="sc">$</span>dataset<span class="sc">$</span>otherEntity[[i]]</span>
<span id="cb136-3"><a href="beyond-your-first-ticket.html#cb136-3" aria-hidden="true" tabindex="-1"></a>    id <span class="ot">&lt;-</span> otherEntity<span class="sc">$</span>id</span>
<span id="cb136-4"><a href="beyond-your-first-ticket.html#cb136-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb136-5"><a href="beyond-your-first-ticket.html#cb136-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="sc">!</span><span class="fu">grepl</span>(<span class="st">&quot;urn-uuid-&quot;</span>, id)) {</span>
<span id="cb136-6"><a href="beyond-your-first-ticket.html#cb136-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">warning</span>(<span class="st">&quot;otherEntity &quot;</span>, i, <span class="st">&quot; is not a pid&quot;</span>)</span>
<span id="cb136-7"><a href="beyond-your-first-ticket.html#cb136-7" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb136-8"><a href="beyond-your-first-ticket.html#cb136-8" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb136-9"><a href="beyond-your-first-ticket.html#cb136-9" aria-hidden="true" tabindex="-1"></a>        id <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">&quot;urn-uuid-&quot;</span>, <span class="st">&quot;urn:uuid:&quot;</span>, id)</span>
<span id="cb136-10"><a href="beyond-your-first-ticket.html#cb136-10" aria-hidden="true" tabindex="-1"></a>        physical <span class="ot">&lt;-</span> arcticdatautils<span class="sc">::</span><span class="fu">pid_to_eml_physical</span>(mn, id)</span>
<span id="cb136-11"><a href="beyond-your-first-ticket.html#cb136-11" aria-hidden="true" tabindex="-1"></a>        doc<span class="sc">$</span>dataset<span class="sc">$</span>otherEntity[[i]]<span class="sc">$</span>physical <span class="ot">&lt;-</span> physical</span>
<span id="cb136-12"><a href="beyond-your-first-ticket.html#cb136-12" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb136-13"><a href="beyond-your-first-ticket.html#cb136-13" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>As you can see from code above, we use a for loop here to add <code>physical</code> sections. The for loop is a very useful tool to iterate over a list of elements. With for loop, you can repeat a specific block of code without copying and pasting the code over and over again. When processing datasets in Arctic Data Center, there are many places where for loop can be used, such as publishing a bunch of objects with pids, updating formatID for pkg$data, adding <code>physical</code> section like above code, etc.</p>
<p>A loop is composed of two parts: the sequence and the body. The sequence usually generates indices to locate elements and the body contains the code that you want to iterate for each element.</p>
<p>Here is an example of adding the same <code>attributeList</code> for all the <code>dataTable</code>s in the metadata using for loop.</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="beyond-your-first-ticket.html#cb137-1" aria-hidden="true" tabindex="-1"></a>attributes <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&#39;attributes.csv&#39;</span>)  <span class="co"># attribute table in csv format</span></span>
<span id="cb137-2"><a href="beyond-your-first-ticket.html#cb137-2" aria-hidden="true" tabindex="-1"></a>attributeList <span class="ot">&lt;-</span> EML<span class="sc">::</span><span class="fu">set_attributes</span>(<span class="at">attributes =</span> attributes)</span>
<span id="cb137-3"><a href="beyond-your-first-ticket.html#cb137-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-4"><a href="beyond-your-first-ticket.html#cb137-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(doc<span class="sc">$</span>dataset<span class="sc">$</span>dataTable)) { <span class="co"># sequence part</span></span>
<span id="cb137-5"><a href="beyond-your-first-ticket.html#cb137-5" aria-hidden="true" tabindex="-1"></a>    doc<span class="sc">$</span>dataset<span class="sc">$</span>dataTable[[i]]<span class="sc">$</span>attributeList <span class="ot">&lt;-</span> attributeList <span class="co"># body part</span></span>
<span id="cb137-6"><a href="beyond-your-first-ticket.html#cb137-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="use-references" class="section level2" number="10.3">
<h2><span class="header-section-number">10.3</span> Use references</h2>
<p>References are a way to avoid repeating the same information multiple times in the same EML record. There are a few benefits to doing this, including:</p>
<ul>
<li>Making it clear that two things are the same (e.g., the creator is the same person as the contact, two entities have the exact same attributes)</li>
<li>Reducing the size on disk of EML records with highly redundant information</li>
<li>Faster read/write/validate with the R EML package</li>
</ul>
<p>You may want to use EML references if you have the following scenarios (not exhaustive):</p>
<ul>
<li>One person has multiple roles in the dataset (creator, contact, etc)</li>
<li>One or more entities shares all or some attributes</li>
</ul>
<div id="example-with-parties" class="section level3" number="10.3.1">
<h3><span class="header-section-number">10.3.1</span> Example with parties</h3>
<div class="note">
<p>
Do not use references for creators as it is used for the citation information. The creators will not show up on the top of the dataset if it is a reference. Until this issue is resolved in NCEAS/metacat#926 we will need to keep this in account.
</p>
</div>
<p>It’s very common to see the contact and creator referring to the same person with XML like this:</p>
<pre><code>&lt;eml packageId=&quot;my_test_doc&quot; system=&quot;my_system&quot; xsi:schemaLocation=&quot;eml://ecoinformatics.org/eml-2.1.1 eml.xsd&quot;&gt;
  &lt;dataset&gt;
    &lt;creator&gt;
      &lt;individualName&gt;
        &lt;givenName&gt;Bryce&lt;/givenName&gt;
        &lt;surName&gt;Mecum&lt;/surName&gt;
      &lt;/individualName&gt;
    &lt;/creator&gt;
    &lt;contact&gt;
      &lt;individualName&gt;
        &lt;givenName&gt;Bryce&lt;/givenName&gt;
        &lt;surName&gt;Mecum&lt;/surName&gt;
      &lt;/individualName&gt;
    &lt;/contact&gt;
  &lt;/dataset&gt;
&lt;/eml&gt;</code></pre>
<p>So you see those two times Bryce Mecum is referenced there? If you mean to state that Bryce Mecum is the creator and contact for the dataset, this is a good start. But with just a name, there’s some ambiguity as to whether the creator and contact are truly the same person. Using references, we can remove all doubt.</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="beyond-your-first-ticket.html#cb139-1" aria-hidden="true" tabindex="-1"></a>doc<span class="sc">$</span>dataset<span class="sc">$</span>creator[[<span class="dv">1</span>]]<span class="sc">$</span>id  <span class="ot">&lt;-</span> <span class="st">&quot;reference_id&quot;</span></span>
<span id="cb139-2"><a href="beyond-your-first-ticket.html#cb139-2" aria-hidden="true" tabindex="-1"></a>doc<span class="sc">$</span>dataset<span class="sc">$</span>contact <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">references =</span> <span class="st">&quot;reference_id&quot;</span>) </span>
<span id="cb139-3"><a href="beyond-your-first-ticket.html#cb139-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(doc)</span></code></pre></div>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;eml:eml xmlns:eml=&quot;eml://ecoinformatics.org/eml-2.1.1&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:stmml=&quot;http://www.xml-cml.org/schema/stmml-1.1&quot; packageId=&quot;id&quot; system=&quot;system&quot; xsi:schemaLocation=&quot;eml://ecoinformatics.org/eml-2.1.1/ eml.xsd&quot;&gt;
  &lt;dataset&gt;
    &lt;title&gt;A Minimal Valid EML Dataset&lt;/title&gt;
    &lt;creator id=&quot;reference_id&quot;&gt;
      &lt;individualName&gt;
        &lt;givenName&gt;Bryce&lt;/givenName&gt;
        &lt;surName&gt;Mecum&lt;/surName&gt;
      &lt;/individualName&gt;
    &lt;/creator&gt;
    &lt;contact&gt;
      &lt;references&gt;reference_id&lt;/references&gt;
    &lt;/contact&gt;
  &lt;/dataset&gt;
&lt;/eml:eml&gt;</code></pre>
<div class="note">
<p>
The reference <code>id</code> needs to be unique within the EML record but doesn’t need to have meaning outside of that.
</p>
</div>
</div>
<div id="example-with-attributes" class="section level3" number="10.3.2">
<h3><span class="header-section-number">10.3.2</span> Example with attributes</h3>
<p>To use references with attributes:</p>
<ol style="list-style-type: decimal">
<li>Add an attribute list to a data table</li>
<li>Add a reference id for that attribute list</li>
<li>Use references to add that information into the <code>attributeList</code>s of the other data tables</li>
</ol>
<p>For example, if all the data tables in our data package have the same attributes, we can set the attribute list for the first one, and use references for the rest:</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="beyond-your-first-ticket.html#cb141-1" aria-hidden="true" tabindex="-1"></a>doc<span class="sc">$</span>dataset<span class="sc">$</span>dataTable[[<span class="dv">1</span>]]<span class="sc">$</span>attributeList <span class="ot">&lt;-</span> attribute_list</span>
<span id="cb141-2"><a href="beyond-your-first-ticket.html#cb141-2" aria-hidden="true" tabindex="-1"></a>doc<span class="sc">$</span>dataset<span class="sc">$</span>dataTable[[<span class="dv">1</span>]]<span class="sc">$</span>attributeList<span class="sc">$</span>id <span class="ot">&lt;-</span> <span class="st">&quot;shared_attributes&quot;</span> <span class="co"># use any unique name for your id</span></span>
<span id="cb141-3"><a href="beyond-your-first-ticket.html#cb141-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-4"><a href="beyond-your-first-ticket.html#cb141-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span><span class="fu">length</span>(doc<span class="sc">$</span>dataset<span class="sc">$</span>dataTable)) {</span>
<span id="cb141-5"><a href="beyond-your-first-ticket.html#cb141-5" aria-hidden="true" tabindex="-1"></a>  doc<span class="sc">$</span>dataset<span class="sc">$</span>dataTable[[i]]<span class="sc">$</span>attributeList <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">references =</span> <span class="st">&quot;shared_attributes&quot;</span>) <span class="co"># use the id you set above</span></span>
<span id="cb141-6"><a href="beyond-your-first-ticket.html#cb141-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
</div>
<div id="annotations" class="section level2" number="10.4">
<h2><span class="header-section-number">10.4</span> Annotations</h2>
<p>If there are multiple tables with similar annotations you can try something like this:</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="beyond-your-first-ticket.html#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="co">#go through each dataTable</span></span>
<span id="cb142-2"><a href="beyond-your-first-ticket.html#cb142-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(doc<span class="sc">$</span>dataset<span class="sc">$</span>dataTable)){</span>
<span id="cb142-3"><a href="beyond-your-first-ticket.html#cb142-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb142-4"><a href="beyond-your-first-ticket.html#cb142-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">#get all the attibute names</span></span>
<span id="cb142-5"><a href="beyond-your-first-ticket.html#cb142-5" aria-hidden="true" tabindex="-1"></a>  an <span class="ot">&lt;-</span> <span class="fu">eml_get_simple</span>(doc<span class="sc">$</span>dataset<span class="sc">$</span>dataTable[[i]], <span class="st">&quot;attributeName&quot;</span>)</span>
<span id="cb142-6"><a href="beyond-your-first-ticket.html#cb142-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb142-7"><a href="beyond-your-first-ticket.html#cb142-7" aria-hidden="true" tabindex="-1"></a>  <span class="co">#go through the attributes figure out what will match</span></span>
<span id="cb142-8"><a href="beyond-your-first-ticket.html#cb142-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(a <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(an)){</span>
<span id="cb142-9"><a href="beyond-your-first-ticket.html#cb142-9" aria-hidden="true" tabindex="-1"></a>    annotation <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">case_when</span>(</span>
<span id="cb142-10"><a href="beyond-your-first-ticket.html#cb142-10" aria-hidden="true" tabindex="-1"></a>      <span class="co"># the attributeName to match ~ valueLabel</span></span>
<span id="cb142-11"><a href="beyond-your-first-ticket.html#cb142-11" aria-hidden="true" tabindex="-1"></a>      an[[a]] <span class="sc">==</span> <span class="st">&quot;Sample ID&quot;</span> <span class="sc">~</span> <span class="st">&quot;Identity&quot;</span>,</span>
<span id="cb142-12"><a href="beyond-your-first-ticket.html#cb142-12" aria-hidden="true" tabindex="-1"></a>      an[[a]] <span class="sc">==</span> <span class="st">&quot;Location&quot;</span> <span class="sc">~</span> <span class="st">&quot;study location name&quot;</span>,</span>
<span id="cb142-13"><a href="beyond-your-first-ticket.html#cb142-13" aria-hidden="true" tabindex="-1"></a>      an[[a]] <span class="sc">==</span> <span class="st">&quot;Latitude&quot;</span> <span class="sc">~</span> <span class="st">&quot;latitude coordinate&quot;</span>,</span>
<span id="cb142-14"><a href="beyond-your-first-ticket.html#cb142-14" aria-hidden="true" tabindex="-1"></a>      an[[a]] <span class="sc">==</span> <span class="st">&quot;Longitude&quot;</span> <span class="sc">~</span> <span class="st">&quot;longitude coordinate&quot;</span>,</span>
<span id="cb142-15"><a href="beyond-your-first-ticket.html#cb142-15" aria-hidden="true" tabindex="-1"></a>      an[[a]] <span class="sc">==</span> <span class="st">&quot;Elevation (m)&quot;</span> <span class="sc">~</span> <span class="st">&quot;elevation&quot;</span>,</span>
<span id="cb142-16"><a href="beyond-your-first-ticket.html#cb142-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(an[[a]], <span class="st">&quot;Depth|depth&quot;</span>) <span class="sc">~</span> <span class="st">&quot;Depth&quot;</span>)</span>
<span id="cb142-17"><a href="beyond-your-first-ticket.html#cb142-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb142-18"><a href="beyond-your-first-ticket.html#cb142-18" aria-hidden="true" tabindex="-1"></a>    <span class="co">#only run this code when the annotations match</span></span>
<span id="cb142-19"><a href="beyond-your-first-ticket.html#cb142-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="sc">!</span><span class="fu">is.na</span>(annotation)){</span>
<span id="cb142-20"><a href="beyond-your-first-ticket.html#cb142-20" aria-hidden="true" tabindex="-1"></a>      <span class="co">#based on the entity Name create a unique id</span></span>
<span id="cb142-21"><a href="beyond-your-first-ticket.html#cb142-21" aria-hidden="true" tabindex="-1"></a>      entity <span class="ot">&lt;-</span> <span class="fu">str_split</span>(doc<span class="sc">$</span>dataset<span class="sc">$</span>dataTable[[i]]<span class="sc">$</span>entityName, <span class="st">&quot;_&quot;</span>)</span>
<span id="cb142-22"><a href="beyond-your-first-ticket.html#cb142-22" aria-hidden="true" tabindex="-1"></a>      doc<span class="sc">$</span>dataset<span class="sc">$</span>dataTable[[i]]<span class="sc">$</span>attributeList<span class="sc">$</span>attribute[[a]]<span class="sc">$</span>id <span class="ot">&lt;-</span> <span class="fu">paste0</span>(entity[[<span class="dv">1</span>]][[<span class="dv">1</span>]], <span class="st">&quot;_&quot;</span>, an[[a]])</span>
<span id="cb142-23"><a href="beyond-your-first-ticket.html#cb142-23" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb142-24"><a href="beyond-your-first-ticket.html#cb142-24" aria-hidden="true" tabindex="-1"></a>      <span class="co">#add the annotation</span></span>
<span id="cb142-25"><a href="beyond-your-first-ticket.html#cb142-25" aria-hidden="true" tabindex="-1"></a>      doc<span class="sc">$</span>dataset<span class="sc">$</span>dataTable[[i]]<span class="sc">$</span>attributeList<span class="sc">$</span>attribute[[a]]<span class="sc">$</span>annotation <span class="ot">&lt;-</span> <span class="fu">eml_ecso_annotation</span>(annotation)</span>
<span id="cb142-26"><a href="beyond-your-first-ticket.html#cb142-26" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb142-27"><a href="beyond-your-first-ticket.html#cb142-27" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb142-28"><a href="beyond-your-first-ticket.html#cb142-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb142-29"><a href="beyond-your-first-ticket.html#cb142-29" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="streamlining-your-workflow" class="section level2" number="10.5">
<h2><span class="header-section-number">10.5</span> Streamlining your workflow</h2>
</div>
<div id="code-snippets" class="section level2" number="10.6">
<h2><span class="header-section-number">10.6</span> Code Snippets</h2>
<p>Code snippets help with templating portions of code that you will be using regularly. To add your own, go to the toolbar ribbon at the top of your Rstudio screen and select:</p>
<pre><code>Tools &gt; Global Options... &gt; Code &gt; Edit Snippets &gt; Add these chunks to the end of the file</code></pre>
<p>More info can be found in this blog post by Mara Averick on how to add them: <a href="https://maraaverick.rbind.io/2017/09/custom-snippets-in-rstudio-faster-tweet-chunks-for-all/" class="uri">https://maraaverick.rbind.io/2017/09/custom-snippets-in-rstudio-faster-tweet-chunks-for-all/</a></p>
<p>Usual <code>arcticdatautils</code> ticket workflow</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="beyond-your-first-ticket.html#cb144-1" aria-hidden="true" tabindex="-1"></a>snippet ticket</span>
<span id="cb144-2"><a href="beyond-your-first-ticket.html#cb144-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(dataone)</span>
<span id="cb144-3"><a href="beyond-your-first-ticket.html#cb144-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(arcticdatautils)</span>
<span id="cb144-4"><a href="beyond-your-first-ticket.html#cb144-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(EML)</span>
<span id="cb144-5"><a href="beyond-your-first-ticket.html#cb144-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb144-6"><a href="beyond-your-first-ticket.html#cb144-6" aria-hidden="true" tabindex="-1"></a>    cn <span class="ot">&lt;-</span> <span class="fu">CNode</span>(<span class="st">&#39;PROD&#39;</span>)</span>
<span id="cb144-7"><a href="beyond-your-first-ticket.html#cb144-7" aria-hidden="true" tabindex="-1"></a>    adc <span class="ot">&lt;-</span> <span class="fu">getMNode</span>(cn, <span class="st">&#39;urn:node:ARCTIC&#39;</span>)</span>
<span id="cb144-8"><a href="beyond-your-first-ticket.html#cb144-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb144-9"><a href="beyond-your-first-ticket.html#cb144-9" aria-hidden="true" tabindex="-1"></a>    rm <span class="ot">&lt;-</span> <span class="st">&quot;add your rm&quot;</span></span>
<span id="cb144-10"><a href="beyond-your-first-ticket.html#cb144-10" aria-hidden="true" tabindex="-1"></a>    pkg <span class="ot">&lt;-</span> <span class="fu">get_package</span>(adc, rm)</span>
<span id="cb144-11"><a href="beyond-your-first-ticket.html#cb144-11" aria-hidden="true" tabindex="-1"></a>    doc <span class="ot">&lt;-</span> EML<span class="sc">::</span><span class="fu">read_eml</span>(<span class="fu">getObject</span>(adc, pkg\<span class="sc">$</span>metadata))</span>
<span id="cb144-12"><a href="beyond-your-first-ticket.html#cb144-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb144-13"><a href="beyond-your-first-ticket.html#cb144-13" aria-hidden="true" tabindex="-1"></a>    doc <span class="ot">&lt;-</span> <span class="fu">eml_add_publisher</span>(doc)</span>
<span id="cb144-14"><a href="beyond-your-first-ticket.html#cb144-14" aria-hidden="true" tabindex="-1"></a>    doc <span class="ot">&lt;-</span> <span class="fu">eml_add_entity_system</span>(doc)</span>
<span id="cb144-15"><a href="beyond-your-first-ticket.html#cb144-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb144-16"><a href="beyond-your-first-ticket.html#cb144-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">eml_validate</span>(doc)</span>
<span id="cb144-17"><a href="beyond-your-first-ticket.html#cb144-17" aria-hidden="true" tabindex="-1"></a>    eml_path <span class="ot">&lt;-</span> <span class="st">&quot;eml.xml&quot;</span>   </span>
<span id="cb144-18"><a href="beyond-your-first-ticket.html#cb144-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">write_eml</span>(doc, eml_path)</span>
<span id="cb144-19"><a href="beyond-your-first-ticket.html#cb144-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-20"><a href="beyond-your-first-ticket.html#cb144-20" aria-hidden="true" tabindex="-1"></a>    <span class="co">#update &lt;- publish_update(adc,</span></span>
<span id="cb144-21"><a href="beyond-your-first-ticket.html#cb144-21" aria-hidden="true" tabindex="-1"></a>    <span class="co">#                                               metadata_pid = pkg\$metadata,</span></span>
<span id="cb144-22"><a href="beyond-your-first-ticket.html#cb144-22" aria-hidden="true" tabindex="-1"></a>    <span class="co">#                                               resource_map_pid = pkg\$resource_map,</span></span>
<span id="cb144-23"><a href="beyond-your-first-ticket.html#cb144-23" aria-hidden="true" tabindex="-1"></a>    <span class="co">#                                               metadata_path = eml_path,</span></span>
<span id="cb144-24"><a href="beyond-your-first-ticket.html#cb144-24" aria-hidden="true" tabindex="-1"></a>    <span class="co">#                                               data_pids = pkg\$data,</span></span>
<span id="cb144-25"><a href="beyond-your-first-ticket.html#cb144-25" aria-hidden="true" tabindex="-1"></a>    <span class="co">#                                               public = F)</span></span>
<span id="cb144-26"><a href="beyond-your-first-ticket.html#cb144-26" aria-hidden="true" tabindex="-1"></a>                                                    </span>
<span id="cb144-27"><a href="beyond-your-first-ticket.html#cb144-27" aria-hidden="true" tabindex="-1"></a>    <span class="co">#datamgmt::categorize_dataset(update\$metadata, c(&quot;theme1&quot;), &quot;Your Name&quot;)</span></span></code></pre></div>
<p>The <code>datapack</code> ticket workflow</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="beyond-your-first-ticket.html#cb145-1" aria-hidden="true" tabindex="-1"></a>snippet datapack</span>
<span id="cb145-2"><a href="beyond-your-first-ticket.html#cb145-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(dataone)</span>
<span id="cb145-3"><a href="beyond-your-first-ticket.html#cb145-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(datapack)</span>
<span id="cb145-4"><a href="beyond-your-first-ticket.html#cb145-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(digest)</span>
<span id="cb145-5"><a href="beyond-your-first-ticket.html#cb145-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(uuid)</span>
<span id="cb145-6"><a href="beyond-your-first-ticket.html#cb145-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(dataone)</span>
<span id="cb145-7"><a href="beyond-your-first-ticket.html#cb145-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(arcticdatautils)</span>
<span id="cb145-8"><a href="beyond-your-first-ticket.html#cb145-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(EML)</span>
<span id="cb145-9"><a href="beyond-your-first-ticket.html#cb145-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb145-10"><a href="beyond-your-first-ticket.html#cb145-10" aria-hidden="true" tabindex="-1"></a>    d1c <span class="ot">&lt;-</span> <span class="fu">D1Client</span>(<span class="st">&quot;PROD&quot;</span>, <span class="st">&quot;urn:node:ARCTIC&quot;</span>)</span>
<span id="cb145-11"><a href="beyond-your-first-ticket.html#cb145-11" aria-hidden="true" tabindex="-1"></a>    packageId <span class="ot">&lt;-</span> <span class="st">&quot;id here&quot;</span></span>
<span id="cb145-12"><a href="beyond-your-first-ticket.html#cb145-12" aria-hidden="true" tabindex="-1"></a>    dp <span class="ot">&lt;-</span> <span class="fu">getDataPackage</span>(d1c, <span class="at">identifier=</span>packageId, <span class="at">lazyLoad=</span><span class="cn">TRUE</span>, <span class="at">quiet=</span><span class="cn">FALSE</span>)</span>
<span id="cb145-13"><a href="beyond-your-first-ticket.html#cb145-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb145-14"><a href="beyond-your-first-ticket.html#cb145-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">#get metadata id</span></span>
<span id="cb145-15"><a href="beyond-your-first-ticket.html#cb145-15" aria-hidden="true" tabindex="-1"></a>    metadataId <span class="ot">&lt;-</span> <span class="fu">selectMember</span>(dp, <span class="at">name=</span><span class="st">&quot;sysmeta@formatId&quot;</span>, <span class="at">value=</span><span class="st">&quot;https://eml.ecoinformatics.org/eml-2.2.0&quot;</span>)</span>
<span id="cb145-16"><a href="beyond-your-first-ticket.html#cb145-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb145-17"><a href="beyond-your-first-ticket.html#cb145-17" aria-hidden="true" tabindex="-1"></a>    <span class="co">#edit the metadata</span></span>
<span id="cb145-18"><a href="beyond-your-first-ticket.html#cb145-18" aria-hidden="true" tabindex="-1"></a>    doc <span class="ot">&lt;-</span> <span class="fu">read_eml</span>(<span class="fu">getObject</span>(d1c<span class="sc">@</span>mn, metadataId))</span>
<span id="cb145-19"><a href="beyond-your-first-ticket.html#cb145-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb145-20"><a href="beyond-your-first-ticket.html#cb145-20" aria-hidden="true" tabindex="-1"></a>    <span class="co">#add the publisher info</span></span>
<span id="cb145-21"><a href="beyond-your-first-ticket.html#cb145-21" aria-hidden="true" tabindex="-1"></a>    doc <span class="ot">&lt;-</span> <span class="fu">eml_add_publisher</span>(doc)</span>
<span id="cb145-22"><a href="beyond-your-first-ticket.html#cb145-22" aria-hidden="true" tabindex="-1"></a>    doc <span class="ot">&lt;-</span> <span class="fu">eml_add_entity_system</span>(doc)</span>
<span id="cb145-23"><a href="beyond-your-first-ticket.html#cb145-23" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb145-24"><a href="beyond-your-first-ticket.html#cb145-24" aria-hidden="true" tabindex="-1"></a>    doc\<span class="sc">$</span>dataset\<span class="sc">$</span>project <span class="ot">&lt;-</span> <span class="fu">eml_nsf_to_project</span>(<span class="st">&quot;nsf id here&quot;</span>)</span>
<span id="cb145-25"><a href="beyond-your-first-ticket.html#cb145-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb145-26"><a href="beyond-your-first-ticket.html#cb145-26" aria-hidden="true" tabindex="-1"></a>    <span class="co">#check and save the metadata</span></span>
<span id="cb145-27"><a href="beyond-your-first-ticket.html#cb145-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">eml_validate</span>(doc)</span>
<span id="cb145-28"><a href="beyond-your-first-ticket.html#cb145-28" aria-hidden="true" tabindex="-1"></a>    eml_path <span class="ot">&lt;-</span> arcticdatautils<span class="sc">::</span><span class="fu">title_to_file_name</span>(doc\<span class="sc">$</span>dataset\<span class="sc">$</span>title)</span>
<span id="cb145-29"><a href="beyond-your-first-ticket.html#cb145-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">write_eml</span>(doc, eml_path)</span>
<span id="cb145-30"><a href="beyond-your-first-ticket.html#cb145-30" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb145-31"><a href="beyond-your-first-ticket.html#cb145-31" aria-hidden="true" tabindex="-1"></a>    dp <span class="ot">&lt;-</span> <span class="fu">replaceMember</span>(dp, metadataId, <span class="at">replacement=</span>eml_path)</span>
<span id="cb145-32"><a href="beyond-your-first-ticket.html#cb145-32" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb145-33"><a href="beyond-your-first-ticket.html#cb145-33" aria-hidden="true" tabindex="-1"></a>    <span class="co">#upload the dataset</span></span>
<span id="cb145-34"><a href="beyond-your-first-ticket.html#cb145-34" aria-hidden="true" tabindex="-1"></a>    myAccessRules <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">subject=</span><span class="st">&quot;CN=arctic-data-admins,DC=dataone,DC=org&quot;</span>, <span class="at">permission=</span><span class="st">&quot;changePermission&quot;</span>) </span>
<span id="cb145-35"><a href="beyond-your-first-ticket.html#cb145-35" aria-hidden="true" tabindex="-1"></a>    packageId <span class="ot">&lt;-</span> <span class="fu">uploadDataPackage</span>(d1c, dp, <span class="at">public=</span>F, <span class="at">accessRules=</span>myAccessRules, <span class="at">quiet=</span><span class="cn">FALSE</span>)</span>
<span id="cb145-36"><a href="beyond-your-first-ticket.html#cb145-36" aria-hidden="true" tabindex="-1"></a>    <span class="co">#datamgmt::categorize_dataset(&quot;doi&quot;, c(&quot;theme1&quot;), &quot;Jasmine&quot;)</span></span></code></pre></div>
<p>Quick way to give access to submitters to their datasets:</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="beyond-your-first-ticket.html#cb146-1" aria-hidden="true" tabindex="-1"></a>snippet access</span>
<span id="cb146-2"><a href="beyond-your-first-ticket.html#cb146-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(dataone)</span>
<span id="cb146-3"><a href="beyond-your-first-ticket.html#cb146-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(arcticdatautils)</span>
<span id="cb146-4"><a href="beyond-your-first-ticket.html#cb146-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(EML)</span>
<span id="cb146-5"><a href="beyond-your-first-ticket.html#cb146-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-6"><a href="beyond-your-first-ticket.html#cb146-6" aria-hidden="true" tabindex="-1"></a>    cn <span class="ot">&lt;-</span> <span class="fu">CNode</span>(<span class="st">&#39;PROD&#39;</span>)</span>
<span id="cb146-7"><a href="beyond-your-first-ticket.html#cb146-7" aria-hidden="true" tabindex="-1"></a>    adc <span class="ot">&lt;-</span> <span class="fu">getMNode</span>(cn, <span class="st">&#39;urn:node:ARCTIC&#39;</span>)</span>
<span id="cb146-8"><a href="beyond-your-first-ticket.html#cb146-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-9"><a href="beyond-your-first-ticket.html#cb146-9" aria-hidden="true" tabindex="-1"></a>    rm <span class="ot">&lt;-</span> <span class="st">&quot;rm here&quot;</span></span>
<span id="cb146-10"><a href="beyond-your-first-ticket.html#cb146-10" aria-hidden="true" tabindex="-1"></a>    pkg <span class="ot">&lt;-</span> <span class="fu">get_package</span>(adc, rm)</span>
<span id="cb146-11"><a href="beyond-your-first-ticket.html#cb146-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-12"><a href="beyond-your-first-ticket.html#cb146-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_access</span>(adc, <span class="fu">unlist</span>(pkg), <span class="st">&quot;orcid here&quot;</span>)</span></code></pre></div>
<p>Quick access to the usual code for common Solr queries:</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="beyond-your-first-ticket.html#cb147-1" aria-hidden="true" tabindex="-1"></a>snippet solr</span>
<span id="cb147-2"><a href="beyond-your-first-ticket.html#cb147-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(dataone)</span>
<span id="cb147-3"><a href="beyond-your-first-ticket.html#cb147-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(arcticdatautils)</span>
<span id="cb147-4"><a href="beyond-your-first-ticket.html#cb147-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(EML)</span>
<span id="cb147-5"><a href="beyond-your-first-ticket.html#cb147-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-6"><a href="beyond-your-first-ticket.html#cb147-6" aria-hidden="true" tabindex="-1"></a>    cn <span class="ot">&lt;-</span> <span class="fu">CNode</span>(<span class="st">&#39;PROD&#39;</span>)</span>
<span id="cb147-7"><a href="beyond-your-first-ticket.html#cb147-7" aria-hidden="true" tabindex="-1"></a>    adc <span class="ot">&lt;-</span> <span class="fu">getMNode</span>(cn, <span class="st">&#39;urn:node:ARCTIC&#39;</span>)</span>
<span id="cb147-8"><a href="beyond-your-first-ticket.html#cb147-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb147-9"><a href="beyond-your-first-ticket.html#cb147-9" aria-hidden="true" tabindex="-1"></a>    result <span class="ot">&lt;-</span> <span class="fu">query</span>(adc, <span class="fu">list</span>(<span class="at">q =</span> <span class="st">&quot;rightsHolder:*orcid.org/0000-000X-XXXX-XXXX* AND (*:* NOT obsoletedBy:*)&quot;</span>,</span>
<span id="cb147-10"><a href="beyond-your-first-ticket.html#cb147-10" aria-hidden="true" tabindex="-1"></a>                              <span class="at">fl =</span> <span class="st">&quot;identifier,rightsHolder,formatId, fileName, dateUploaded&quot;</span>,</span>
<span id="cb147-11"><a href="beyond-your-first-ticket.html#cb147-11" aria-hidden="true" tabindex="-1"></a>                              <span class="at">sort =</span> <span class="st">&#39;dateUploaded+desc&#39;</span>,</span>
<span id="cb147-12"><a href="beyond-your-first-ticket.html#cb147-12" aria-hidden="true" tabindex="-1"></a>                              <span class="at">start =</span><span class="st">&quot;0&quot;</span>,</span>
<span id="cb147-13"><a href="beyond-your-first-ticket.html#cb147-13" aria-hidden="true" tabindex="-1"></a>                              <span class="at">rows =</span> <span class="st">&quot;1500&quot;</span>),</span>
<span id="cb147-14"><a href="beyond-your-first-ticket.html#cb147-14" aria-hidden="true" tabindex="-1"></a>                         <span class="at">as=</span><span class="st">&quot;data.frame&quot;</span>)</span></code></pre></div>
</div>
<div id="resources-for-r" class="section level2" number="10.7">
<h2><span class="header-section-number">10.7</span> Resources for R</h2>
<div id="learning" class="section level3" number="10.7.1">
<h3><span class="header-section-number">10.7.1</span> Learning</h3>
<p>The following online books are useful for expanding your R knowledge and skills:</p>
<ul>
<li><a href="http://training.arcticdata.io/" target="_blank">the most recent ADC training materials</a>
<ul>
<li>The cleaning and data manipulation section is useful for working with attribute tables</li>
</ul></li>
<li><a href="https://csgillespie.github.io/efficientR/" target="_blank">Efficient R Programming</a>
<ul>
<li>In particular Chapter 3 Efficient Programming</li>
</ul></li>
<li><a href="https://r4ds.had.co.nz/" target="_blank">R for Data Science</a>
<ul>
<li>Section on Strings</li>
</ul></li>
<li><a href="http://r-pkgs.had.co.nz/" target="_blank">R Packages</a>
<ul>
<li>contributing to <code>arcticdatatutils</code>, <code>datamgmt</code> and <code>EML</code></li>
</ul></li>
<li><a href="http://adv-r.had.co.nz/" target="_blank">Advanced R</a>
<ul>
<li>Object-oriented programming in R for S4 to understand how <code>datapack</code> and <code>dataone</code> packages are written</li>
</ul></li>
<li><a href="https://bookdown.org/yihui/bookdown/" target="_blank">bookdown: Authoring Books and Technical Documents with R Markdown</a></li>
<li>formatting, troubleshooting and updating the training document</li>
</ul>
<p><strong>Others</strong></p>
<ul>
<li><a href="https://rstudio-education.github.io/hopr/" target="_blank">Hands-On Programming with R</a></li>
<li><a href="https://bookdown.org/rdpeng/rprogdatascience/" target="_blank">R Programming for Data Science</a></li>
<li><a href="https://bookdown.org/rdpeng/exdata/" target="_blank">Exploratory Data Analysis with R</a></li>
<li><a href="https://bookdown.org/rdpeng/RProgDA/" target="_blank">Mastering Software Development in R</a></li>
<li><a href="https://geocompr.robinlovelace.net/" target="_blank">Geocomputation with R</a></li>
<li><a href="https://bookdown.org/yihui/rmarkdown/" target="_blank">R Markdown: The Definitive Guide</a></li>
<li><a href="https://style.tidyverse.org/" target="_blank">The Tidyverse Style Guide</a></li>
</ul>
<p>The RStudio <a href="https://www.rstudio.com/resources/cheatsheets/" target="_blank">cheatsheets</a> are also useful references for functions in <a href="https://www.tidyverse.org/" target="_blank">tidyverse</a> and other packages.</p>
</div>
<div id="packages" class="section level3" number="10.7.2">
<h3><span class="header-section-number">10.7.2</span> Packages</h3>
<p>The data team uses and develops a number of R packages. Here is a listing and description of the main packages:</p>
<ul>
<li>dataone
<ul>
<li>reading and writing data at DataONE member nodes</li>
<li><a href="http://doi.org/10.5063/F1M61H5X" target="_blank">http://doi.org/10.5063/F1M61H5X</a></li>
</ul></li>
<li>datapack
<ul>
<li>creating and managing data packages</li>
<li><a href="https://github.com/ropensci/datapack" target="_blank">https://github.com/ropensci/datapack</a></li>
</ul></li>
<li>EML
<ul>
<li>creating and editing EML metadata documents</li>
<li><a href="https://ropensci.github.io/EML" target="_blank">https://ropensci.github.io/EML</a></li>
</ul></li>
<li>arcticdatautils
<ul>
<li>utility functions for processing data for the Arctic Data Center</li>
<li><a href="https://nceas.github.io/arcticdatautils/" target="_blank">https://nceas.github.io/arcticdatautils/</a></li>
</ul></li>
<li>datamgmt
<ul>
<li>data management utilities for curating, documenting, and publishing data (sandbox package)</li>
<li><a href="https://nceas.github.io/datamgmt/" target="_blank">https://nceas.github.io/datamgmt/</a></li>
</ul></li>
<li>metadig
<ul>
<li>authoring MetaDIG quality checks</li>
<li><a href="https://github.com/NCEAS/metadig-r" target="_blank">https://github.com/NCEAS/metadig-r</a></li>
</ul></li>
<li>metajam
<ul>
<li>downloading and reading data and metadata from DataONE member nodes</li>
<li><a href="https://nceas.github.io/metajam/" target="_blank">https://nceas.github.io/metajam/</a></li>
</ul></li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="first-ticket.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
